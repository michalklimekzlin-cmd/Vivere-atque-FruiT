<!doctype html>
<html lang="cs">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>VaF'i'T • Ring Planet Grid</title>
    <style>
      html, body {
        margin: 0; padding: 0;
        width: 100%; height: 100%;
        overflow: hidden;
        background: radial-gradient(circle at top, #040615, #020208);
      }
      canvas { display: block; }
      .hint {
        position: fixed;
        bottom: 10px; left: 50%;
        transform: translateX(-50%);
        color: #fff; opacity: .55;
        font-family: system-ui;
        font-size: 11px;
        pointer-events: none;
      }
    </style>
  </head>
  <body>

    <div class="hint">1 prst = otáčení • 2 prsty = posun • štípnutí = zoom</div>

    <!-- Three.js + OrbitControls (non-module) -->
    <script src="https://unpkg.com/three@0.160.0/build/three.min.js"></script>
    <script src="https://unpkg.com/three@0.160.0/examples/js/controls/OrbitControls.js"></script>

    <script>
      // SCÉNA
      const scene = new THREE.Scene();

      const camera = new THREE.PerspectiveCamera(
        45,
        window.innerWidth / window.innerHeight,
        0.1,
        100
      );
      camera.position.set(0, 2.2, 4.2);

      const renderer = new THREE.WebGLRenderer({ antialias: true });
      renderer.setSize(window.innerWidth, window.innerHeight);
      renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));
      document.body.appendChild(renderer.domElement);

      // SVĚTLA
      const a = new THREE.AmbientLight(0xfff1c7, 0.45);
      scene.add(a);

      const d = new THREE.DirectionalLight(0xfff8dc, 0.9);
      d.position.set(3, 4, 3);
      scene.add(d);

      // RING PLANETA
      const planet = new THREE.Group();
      scene.add(planet);

      const outerRadius = 1.6;
      const tubeRadius  = 0.35;

      const geo = new THREE.TorusGeometry(
        outerRadius,
        tubeRadius,
        48,
        72
      );

      // ČERNÁ HMOTA
      const innerMat = new THREE.MeshStandardMaterial({
        color: 0x000000,
        metalness: 0.55,
        roughness: 0.25
      });
      const inner = new THREE.Mesh(geo, innerMat);
      inner.scale.set(1, 0.55, 1);
      planet.add(inner);

      // ZLATÁ MŘÍŽKA
      const wireMat = new THREE.MeshBasicMaterial({
        color: 0xffd27a,
        wireframe: true
      });
      const wire = new THREE.Mesh(geo, wireMat);
      wire.scale.set(1.006, 0.56, 1.006);
      planet.add(wire);

      // Náklon osy
      planet.rotation.x = 0.5;
      planet.rotation.z = 0.15;

      // OVVLÁDÁNÍ
      const controls = new THREE.OrbitControls(camera, renderer.domElement);
      controls.enableDamping = true;
      controls.dampingFactor = 0.06;

      controls.enableRotate = true;
      controls.enablePan = true;
      controls.enableZoom = true;

      controls.minDistance = 2;
      controls.maxDistance = 8;

      controls.autoRotate = true;
      controls.autoRotateSpeed = 0.35;

      // ANIMACE
      function animate() {
        requestAnimationFrame(animate);
        controls.update();
        renderer.render(scene, camera);
      }
      animate();

      // RESIZE
      window.addEventListener("resize", () => {
        camera.aspect = window.innerWidth / window.innerHeight;
        camera.updateProjectionMatrix();
        renderer.setSize(window.innerWidth, window.innerHeight);
      });
    </script>
  </body>
</html>
