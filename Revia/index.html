<!doctype html>
<html lang="cs">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Revia ‚Ä¢ Vivere atque FruiT</title>

  <link rel="stylesheet" href="./revia.css?v=0.6">

  <style>
    body {
      background-size: auto 70vh;
      background-position: center 18vh;
      background-repeat: no-repeat;
      background-attachment: fixed;
      background-color: #000;
      transition: background-image 0.4s ease;
    }
    @media (max-height: 820px) {
      body { background-size: auto 68vh; background-position: center 20vh; }
    }
    @media (min-height: 900px) {
      body { background-size: auto 78vh; background-position: center 15vh; }
    }
    @media (max-width: 480px) {
      body { background-size: auto 88vh; background-position: center 0; }
    }

    /* mal√° animace pro p≈ôechod do hlavn√≠ho indexu */
    .revia-core-opening {
      opacity: 0;
      transform: scale(1.02);
      transition: opacity 0.22s ease, transform 0.22s ease;
    }
  </style>
</head>

<body data-mode="angel" data-control="ai">

  <div class="revia-main">

    <!-- TOPBAR -->
    <div class="revia-topbar">
      <button class="revia-wing" id="revWing" aria-label="otev≈ô√≠t z√°pisn√≠k"></button>
      <div class="revia-title">Revia</div>
      <div class="revia-state" id="revState">AI: hl√≠d√°m svƒõt</div>
    </div>

    <!-- Z√ÅPISN√çK -->
    <div class="revia-notes" id="revNotes">
      <div class="notes-head">
        <span>‚úß K≈ô√≠dlo / z√°pis</span>
        <button id="notesClose" type="button">√ó</button>
      </div>
      <textarea id="notesText" placeholder="Charakter, √∫koly, pozn√°mky‚Ä¶"></textarea>
      <p class="notes-foot">Ukl√°d√° se pouze do tohoto za≈ô√≠zen√≠.</p>
    </div>

    <!-- SLOTY / DOVEDNOSTI -->
    <div class="revia-card">

      <!-- HLAVN√ç GLYPH SYST√âMU (ODKAZ NA HLAVN√ç INDEX) -->
      <button class="revia-slot active revia-slot-core" id="revCoreSlot" type="button">
        <span class="revia-glyph">Ÿã&‚Äô„Äç</span>
      </button>

      <!-- ostatn√≠ sloty (zat√≠m pr√°zdn√©) -->
      <button class="revia-slot" type="button"></button>
      <button class="revia-slot" type="button"></button>
      <button class="revia-slot" type="button"></button>
      <button class="revia-slot" type="button"></button>
      <button class="revia-slot" type="button"></button>

    </div>

    <!-- SPODN√ç PANEL -->
    <div class="revia-bottom">
      <div class="revia-mini">ƒ™‚Äô‚ô°</div>
      <button class="revia-enter" id="revEnter" type="button">üîí Vstoupit</button>
      <button class="revia-toggle" id="revToggle" type="button">üîÅ P≈ôepnout</button>
      <button class="revia-help" id="revHelp" type="button">?</button>
    </div>

    <div class="revia-toast" id="revToast" aria-live="polite"></div>

  </div>


  <!-- REVIA LIGHT/WORLD ROTATION TEST -->
  <script>
    const WORLD = ["vafiti", "glyph", "engine"];
    let current = 0;

    function reviaRotate() {
      current = (current + 1) % WORLD.length;
      document.body.setAttribute("data-world", WORLD[current]);
    }
  </script>

  <!-- TEST BUTTON (ponech√°n) -->
  <button onclick="reviaRotate()"
    style="position:fixed;bottom:20px;right:20px;padding:12px;background:#444;color:white;border:none;border-radius:6px;">
    üîÑ Otoƒçit svƒõt
  </button>


  <!-- ODKAZ NA HLAVN√ç INDEX / CEL√ù SYST√âM -->
  <script>
    const REVIA_CORE_URL = "../index.html"; // hlavn√≠ syst√©m VaFT

    const revCoreSlot = document.getElementById("revCoreSlot");
    revCoreSlot.addEventListener("click", () => {
      document.body.classList.add("revia-core-opening");
      setTimeout(() => {
        window.location.href = REVIA_CORE_URL;
      }, 220);
    });
  </script>

  <script src="./revia.js?v=0.6"></script>
  <script src="../vaft-core.js"></script>

</body>
</html>
