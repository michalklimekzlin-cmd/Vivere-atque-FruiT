<!doctype html>
<html lang="cs">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, viewport-fit=cover"
    />
    <title>Vivere atque FruiT • Revia & Centrum (RED 2077)</title>

    <style>
      :root {
        /* Hlavní RED 2077 paleta */
        --bg-main: radial-gradient(circle at top, #130006, #020003 60%, #000000);
        --bg-panel: #050006;
        --bg-panel-soft: #070008;
        --bg-card: rgba(8, 0, 10, 0.96);

        --red-main: #ff2e3f;
        --red-soft: #ff5b66;
        --red-deep: #ff1440;
        --red-glow: rgba(255, 46, 63, 0.85);

        --text-main: #fff7fb;
        --text-soft: rgba(255, 230, 240, 0.82);
        --border-soft: rgba(255, 130, 160, 0.22);
        --border-strong: rgba(255, 80, 120, 0.8);
      }

      * {
        box-sizing: border-box;
      }

      html,
      body {
        margin: 0;
        padding: 0;
        width: 100%;
        height: 100%;
        font-family: system-ui, -apple-system, BlinkMacSystemFont, "SF Pro",
          "Segoe UI", sans-serif;
        background: var(--bg-main);
        color: var(--text-main);
        overflow: hidden;
      }

      body {
        display: flex;
        align-items: stretch;
        justify-content: center;
      }

      .root {
        position: relative;
        width: 100%;
        max-width: 1440px;
        height: 100%;
        max-height: 900px;
        margin: auto;
        padding: 10px;
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .stage {
        position: relative;
        width: 100%;
        height: 100%;
        border-radius: 28px;
        background: radial-gradient(circle at top, #130010, #050005 55%, #000);
        box-shadow:
          0 40px 90px rgba(0, 0, 0, 0.95),
          0 0 0 1px rgba(255, 80, 120, 0.25);
        overflow: hidden;
        display: flex;
        flex-direction: column;
      }

      /* TOP STRIP */

      .top-strip {
        flex: 0 0 54px;
        padding: 10px 18px 8px 18px;
        display: flex;
        align-items: center;
        justify-content: space-between;
        background: radial-gradient(circle at top left, #1a0006, #050007);
        border-bottom: 1px solid rgba(255, 120, 150, 0.3);
        box-shadow:
          0 18px 40px rgba(0, 0, 0, 0.9),
          0 0 24px rgba(255, 40, 80, 0.45);
        position: relative;
        z-index: 5;
      }

      .top-left {
        display: flex;
        align-items: center;
        gap: 10px;
        min-width: 0;
      }

      .logo-badge {
        width: 34px;
        height: 34px;
        border-radius: 999px;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 14px;
        background: radial-gradient(
          circle at 30% 20%,
          #ffd6de,
          #ff7c8b,
          #7a0017
        );
        color: #200004;
        box-shadow:
          0 0 0 1px rgba(255, 220, 230, 0.95),
          0 0 24px rgba(255, 70, 100, 0.95);
        text-shadow: 0 0 6px rgba(255, 255, 255, 0.7);
      }

      .top-title {
        display: flex;
        flex-direction: column;
        gap: 2px;
        min-width: 0;
      }

      .top-title-main {
        font-size: 14px;
        font-weight: 640;
        letter-spacing: 0.09em;
        text-transform: uppercase;
        white-space: nowrap;
      }

      .top-title-sub {
        font-size: 11px;
        opacity: 0.86;
        white-space: nowrap;
      }

      .top-right {
        display: flex;
        align-items: center;
        gap: 10px;
        font-size: 11px;
      }

      .pill {
        display: inline-flex;
        align-items: center;
        gap: 6px;
        padding: 4px 11px;
        border-radius: 999px;
        border: 1px solid rgba(255, 140, 170, 0.8);
        background: radial-gradient(
          circle at top,
          rgba(40, 0, 10, 0.98),
          rgba(10, 0, 6, 0.96)
        );
        font-size: 10px;
        box-shadow:
          0 0 18px rgba(255, 52, 92, 0.65),
          0 0 0 1px rgba(255, 40, 100, 0.35);
      }

      .pill-dot {
        width: 8px;
        height: 8px;
        border-radius: 999px;
        background: radial-gradient(circle at 30% 30%, #ff8593, #ff2e3f);
        box-shadow: 0 0 12px rgba(255, 40, 80, 0.95);
        animation: redPulse 1.6s ease-in-out infinite;
      }

      .top-version {
        opacity: 0.82;
      }

      /* LAYOUT */

      .layout {
        position: relative;
        flex: 1;
        display: grid;
        grid-template-columns: minmax(0, 1.6fr) 310px;
        grid-template-rows: 240px minmax(0, 1fr);
        grid-template-areas:
          "revia right"
          "bottom right";
        gap: 10px;
        padding: 12px 14px 14px 14px;
      }

      .panel {
        border-radius: 18px;
        background: var(--bg-panel);
        border: 1px solid var(--border-soft);
        box-shadow: 0 20px 50px rgba(0, 0, 0, 0.95);
        position: relative;
        overflow: hidden;
      }

      /* REVIA – HORNÍ PANEL */

      .panel-revia {
        grid-area: revia;
        padding: 12px 16px 12px 16px;
        display: flex;
        flex-direction: column;
        background: radial-gradient(circle at top, #18000c, #040006);
      }

      .rev-header {
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 12px;
      }

      .rev-title-block {
        display: flex;
        flex-direction: column;
        gap: 4px;
      }

      .rev-title {
        font-size: 15px;
        font-weight: 620;
      }

      .rev-sub {
        font-size: 11px;
        opacity: 0.82;
      }

      .rev-status-row {
        display: flex;
        align-items: center;
        gap: 8px;
        font-size: 11px;
      }

      .rev-signal-pill {
        display: inline-flex;
        align-items: center;
        gap: 6px;
        padding: 3px 10px;
        border-radius: 999px;
        border: 1px solid rgba(255, 120, 150, 0.7);
        background: radial-gradient(
          circle at top,
          rgba(40, 0, 10, 0.95),
          rgba(12, 0, 4, 0.95)
        );
        font-size: 10px;
      }

      .rev-signal-dot {
        width: 8px;
        height: 8px;
        border-radius: 999px;
        background: radial-gradient(circle at 30% 30%, #ff5f6c, #ff2e3f);
        box-shadow: 0 0 14px rgba(255, 40, 80, 0.98);
        animation: redPulse 1.4s ease-in-out infinite;
      }

      .rev-open-link {
        font-size: 11px;
        opacity: 0.84;
        cursor: pointer;
        text-decoration: underline;
      }

      .rev-graph {
        position: relative;
        flex: 1;
        margin-top: 8px;
        border-radius: 16px;
        background: radial-gradient(circle at bottom, #060009, #020003);
        border: 1px solid rgba(255, 110, 150, 0.28);
        overflow: hidden;
      }

      .rev-rules {
        position: absolute;
        left: 14px;
        top: 10px;
        font-size: 10px;
        opacity: 0.78;
      }

      .rev-core-ring {
        position: absolute;
        left: 50%;
        top: 52%;
        transform: translate(-50%, -50%);
        width: 260px;
        height: 260px;
        border-radius: 999px;
        border: 1px dashed rgba(255, 130, 170, 0.35);
        box-shadow:
          0 0 40px rgba(255, 20, 70, 0.45),
          0 0 0 1px rgba(255, 20, 80, 0.35);
        animation: coreGlow 4.4s ease-in-out infinite;
      }

      .rev-core-label {
        position: absolute;
        left: 50%;
        top: 52%;
        transform: translate(-50%, -50%) rotate(-18deg);
        font-size: 12px;
        letter-spacing: 0.12em;
        text-transform: uppercase;
        text-shadow:
          0 0 10px rgba(255, 120, 160, 0.9),
          0 0 22px rgba(255, 20, 80, 0.9);
      }

      .rev-grid-ring {
        position: absolute;
        left: 50%;
        top: 52%;
        transform: translate(-50%, -50%);
        border-radius: 999px;
        border: 1px dashed rgba(255, 110, 150, 0.16);
      }

      .rev-grid-ring.r1 {
        width: 360px;
        height: 360px;
      }

      .rev-grid-ring.r2 {
        width: 470px;
        height: 470px;
      }

      .rev-node {
        position: absolute;
        width: 100px;
        height: 100px;
        border-radius: 999px;
        border: 1px solid rgba(255, 160, 185, 0.5);
        background: radial-gradient(
          circle at top,
          rgba(255, 250, 255, 0.05),
          transparent
        );
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 11px;
        text-align: center;
        box-shadow:
          0 0 22px rgba(255, 30, 80, 0.75),
          0 0 0 1px rgba(255, 70, 120, 0.5);
        backdrop-filter: blur(8px);
        animation: orbitGlow 6s ease-in-out infinite;
      }

      .rev-node span {
        opacity: 0.9;
      }

      .rev-node.human {
        left: 13%;
        top: 53%;
      }

      .rev-node.ai {
        right: 13%;
        top: 23%;
      }

      .rev-node.glyph {
        left: 20%;
        top: 18%;
      }

      .rev-node.world {
        right: 21%;
        top: 60%;
      }

      /* DOLNÍ PANEL – TABS */

      .panel-bottom {
        grid-area: bottom;
        display: flex;
        flex-direction: column;
        background: var(--bg-panel-soft);
      }

      .tab-strip {
        display: flex;
        align-items: stretch;
        padding: 0 18px;
        gap: 6px;
        border-bottom: 1px solid rgba(255, 100, 140, 0.35);
      }

      .tab-btn {
        position: relative;
        flex: 0 0 auto;
        padding: 10px 14px 8px 14px;
        border: 0;
        outline: 0;
        background: transparent;
        color: var(--text-soft);
        font-size: 12px;
        cursor: pointer;
        opacity: 0.75;
      }

      .tab-btn::after {
        content: "";
        position: absolute;
        left: 0;
        right: 0;
        bottom: 1px;
        height: 3px;
        border-radius: 999px 999px 0 0;
        background: transparent;
        opacity: 0;
      }

      .tab-btn.is-active {
        color: var(--text-main);
        opacity: 1;
      }

      .tab-btn.is-active::after {
        background: linear-gradient(
          to right,
          var(--red-main),
          #ff8a5c,
          var(--red-main)
        );
        opacity: 1;
        animation: underlineGlow 2.4s ease-in-out infinite;
      }

      .tabs-body {
        position: relative;
        flex: 1;
        overflow: hidden;
      }

      .tab-view {
        position: absolute;
        inset: 0;
        padding: 14px 18px 12px 18px;
        display: none;
        overflow-y: auto;
      }

      .tab-view.is-active {
        display: block;
      }

      /* KARTY / FORMULÁŘE */

      .card {
        border-radius: 14px;
        padding: 10px 11px 9px 11px;
        background: var(--bg-card);
        border: 1px solid rgba(255, 120, 160, 0.35);
        box-shadow:
          0 12px 30px rgba(0, 0, 0, 0.9),
          0 0 0 1px rgba(255, 30, 80, 0.25);
      }

      .card-title {
        font-size: 11px;
        letter-spacing: 0.08em;
        text-transform: uppercase;
        opacity: 0.86;
        margin-bottom: 6px;
      }

      .form-group {
        display: flex;
        flex-direction: column;
        gap: 4px;
        margin-bottom: 8px;
        font-size: 11px;
      }

      .form-label {
        opacity: 0.85;
      }

      .input,
      .select {
        border-radius: 10px;
        border: 1px solid rgba(255, 130, 170, 0.7);
        background: rgba(10, 0, 14, 0.98);
        color: var(--text-main);
        font-size: 11px;
        padding: 6px 9px;
        outline: none;
      }

      .input:focus,
      .select:focus {
        box-shadow: 0 0 0 1px rgba(255, 70, 120, 0.85),
          0 0 16px rgba(255, 40, 90, 0.9);
      }

      .btn-primary {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        gap: 6px;
        border-radius: 999px;
        padding: 7px 13px;
        border: 0;
        font-size: 11px;
        color: #1a0004;
        background: linear-gradient(to right, #ff2e3f, #ff8a5c);
        cursor: pointer;
        box-shadow:
          0 0 18px rgba(255, 40, 90, 0.95),
          0 0 0 1px rgba(255, 200, 210, 0.8);
      }

      .btn-primary span {
        font-size: 13px;
      }

      .btn-secondary {
        border-radius: 999px;
        border: 1px solid rgba(255, 130, 170, 0.7);
        padding: 4px 10px;
        font-size: 10px;
        background: rgba(10, 0, 16, 0.98);
        color: var(--text-main);
        cursor: pointer;
      }

      .heroes-layout {
        display: grid;
        grid-template-columns: minmax(0, 1.3fr) minmax(0, 1.3fr);
        gap: 12px;
      }

      .heroes-note,
      .body-text,
      .small-text {
        font-size: 10px;
        opacity: 0.8;
      }

      .world-cards {
        display: flex;
        flex-wrap: wrap;
        gap: 8px;
        margin-top: 6px;
      }

      .world-card {
        flex: 1 1 120px;
        min-width: 120px;
        border-radius: 10px;
        padding: 7px 8px 6px 8px;
        border: 1px solid rgba(255, 130, 170, 0.5);
        background: radial-gradient(circle at top left, #20000b, #060007);
        font-size: 10px;
      }

      .world-card-title {
        font-weight: 500;
        margin-bottom: 3px;
      }

      .world-card-sub {
        opacity: 0.8;
      }

      /* MEZIPROSTOR – CHAT */

      .chat-log {
        font-size: 10px;
        line-height: 1.5;
        max-height: 170px;
        overflow-y: auto;
        padding-right: 4px;
      }

      .chat-line {
        margin-bottom: 2px;
      }

      .chat-name {
        font-weight: 600;
        margin-right: 4px;
      }

      .chat-input-row {
        margin-top: 8px;
        display: flex;
        gap: 6px;
        align-items: center;
      }

      .chat-quick-row {
        margin-top: 8px;
        display: flex;
        flex-wrap: wrap;
        gap: 6px;
        font-size: 10px;
      }

      /* SÍŤ – UZLY */

      .nodes-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(130px, 1fr));
        gap: 8px;
        font-size: 10px;
      }

      .node-card {
        border-radius: 10px;
        padding: 7px 8px 6px 8px;
        background: radial-gradient(circle at top left, #21000d, #050007);
        border: 1px solid rgba(255, 140, 180, 0.7);
        box-shadow: 0 0 18px rgba(255, 40, 90, 0.6);
      }

      .node-title {
        font-weight: 500;
        margin-bottom: 2px;
      }

      .node-row {
        display: flex;
        justify-content: space-between;
        gap: 4px;
      }

      /* SVĚTY – LATINA GRID */

      .worlds-grid {
        display: grid;
        grid-template-columns: repeat(5, minmax(0, 1fr));
        gap: 8px;
        font-size: 11px;
      }

      .latin-card {
        border-radius: 12px;
        padding: 8px 9px 6px 9px;
        background: radial-gradient(circle at top left, #1e000c, #050007);
        border: 1px solid rgba(255, 130, 170, 0.7);
        box-shadow: 0 0 18px rgba(255, 40, 90, 0.55);
      }

      .latin-name {
        font-weight: 600;
        margin-bottom: 3px;
      }

      .latin-desc {
        font-size: 10px;
        opacity: 0.86;
      }

      .worlds-note {
        margin-top: 10px;
        font-size: 10px;
        opacity: 0.8;
      }

      /* PRAVÝ PANEL – MODULY + POZNÁMKA */

      .right-panel {
        grid-area: right;
        display: flex;
        flex-direction: column;
        gap: 10px;
      }

      .right-card {
        border-radius: 16px;
        padding: 9px 10px 9px 10px;
        background: var(--bg-panel-soft);
        border: 1px solid var(--border-soft);
        box-shadow: 0 18px 40px rgba(0, 0, 0, 0.92);
        font-size: 11px;
      }

      .right-title {
        font-size: 11px;
        letter-spacing: 0.08em;
        text-transform: uppercase;
        opacity: 0.82;
        margin-bottom: 6px;
      }

      .apps-list {
        display: flex;
        flex-direction: column;
        gap: 4px;
      }

      .app-row {
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 6px;
        padding: 5px 7px;
        border-radius: 10px;
        background: rgba(10, 0, 18, 0.98);
        border: 1px solid rgba(255, 130, 170, 0.6);
      }

      .app-main {
        display: flex;
        flex-direction: column;
        gap: 1px;
      }

      .app-name {
        font-size: 11px;
      }

      .app-sub {
        font-size: 9px;
        opacity: 0.78;
      }

      .app-open {
        border-radius: 999px;
        border: 1px solid rgba(255, 130, 170, 0.8);
        padding: 3px 10px;
        font-size: 10px;
        background: rgba(8, 0, 14, 0.96);
        color: var(--red-soft);
        text-decoration: none;
        white-space: nowrap;
      }

      .right-small {
        font-size: 10px;
        opacity: 0.8;
        margin-top: 4px;
      }

      /* ANIMACE */

      @keyframes redPulse {
        0%,
        100% {
          transform: scale(1);
          opacity: 1;
        }
        50% {
          transform: scale(1.25);
          opacity: 0.65;
        }
      }

      @keyframes coreGlow {
        0%,
        100% {
          box-shadow:
            0 0 40px rgba(255, 20, 70, 0.45),
            0 0 0 1px rgba(255, 20, 80, 0.35);
        }
        50% {
          box-shadow:
            0 0 80px rgba(255, 40, 120, 0.9),
            0 0 0 1px rgba(255, 200, 220, 0.7);
        }
      }

      @keyframes orbitGlow {
        0%,
        100% {
          box-shadow:
            0 0 18px rgba(255, 30, 80, 0.7),
            0 0 0 1px rgba(255, 70, 120, 0.5);
        }
        50% {
          box-shadow:
            0 0 32px rgba(255, 80, 150, 0.95),
            0 0 0 1px rgba(255, 220, 230, 0.9);
        }
      }

      @keyframes underlineGlow {
        0%,
        100% {
          opacity: 1;
          box-shadow: 0 0 10px rgba(255, 40, 90, 0.9);
        }
        50% {
          opacity: 0.8;
          box-shadow: 0 0 22px rgba(255, 80, 140, 1);
        }
      }

      /* RESPONSIVE */

      @media (max-width: 1100px) {
        .layout {
          grid-template-columns: minmax(0, 1fr);
          grid-template-rows: 240px minmax(0, 1fr) 220px;
          grid-template-areas:
            "revia"
            "bottom"
            "right";
        }

        .right-panel {
          flex-direction: row;
        }

        .right-card {
          flex: 1;
        }
      }

      @media (max-width: 820px) {
        .heroes-layout,
        .system-layout {
          grid-template-columns: minmax(0, 1fr);
        }

        .worlds-grid {
          grid-template-columns: repeat(2, minmax(0, 1fr));
        }

        .top-title-main {
          font-size: 13px;
        }

        .top-strip {
          padding-inline: 12px;
        }
      }
    </style>
  </head>

  <body>
    <div class="root">
      <div class="stage">
        <!-- HORNÍ LIŠTA -->
        <header class="top-strip">
          <div class="top-left">
            <div class="logo-badge">ً&’」</div>
            <div class="top-title">
              <div class="top-title-main">
                Vivere atque FruiT • Revia &amp; Centrum
              </div>
              <div class="top-title-sub">
                {*(°•.)(.•°)*}// Michal Klimek • Hlavoun • VaF'i'T Signal • 4 týmy světa
              </div>
            </div>
          </div>

          <div class="top-right">
            <div class="pill">
              <div class="pill-dot"></div>
              <span>Revia – dohled nad světy</span>
            </div>
            <div class="top-version">v1.0 • Centrum RED 2077</div>
          </div>
        </header>

        <div class="layout">
          <!-- REVIA / KRUH SVĚTA -->
          <section class="panel panel-revia">
            <div class="rev-header">
              <div class="rev-title-block">
                <div class="rev-title">Revia – úhel pohledu světa</div>
                <div class="rev-sub">
                  4 týmy: Human • AI • Glyph • World – všechno v jednom kruhu.
                </div>
              </div>
              <div class="rev-status-row">
                <div class="rev-signal-pill">
                  <div class="rev-signal-dot"></div>
                  <span>Signal: aktivní</span>
                </div>
                <div class="rev-open-link" id="open-3d-center">
                  Otevřít 3D centrum →
                </div>
              </div>
            </div>

            <div class="rev-graph">
              <div class="rev-rules">
                Pravidlo 1: Přátelství • Pravidlo 2: Vivere atque frui
              </div>

              <div class="rev-core-ring"></div>
              <div class="rev-grid-ring r1"></div>
              <div class="rev-grid-ring r2"></div>

              <div class="rev-core-label">{*(°•.)..// REVIA CORE</div>

              <div class="rev-node human">
                <span>Human • Pikoš<br />hráč / příběhy / fotky</span>
              </div>
              <div class="rev-node glyph">
                <span>Glyph • VaF'i'T<br />písmenka • znaky • kód</span>
              </div>
              <div class="rev-node ai">
                <span>AI • Kovošrot<br />myšlení • návrhy • hlava</span>
              </div>
              <div class="rev-node world">
                <span>World (Core)<br />MapWorld • mapy • 3D</span>
              </div>
            </div>
          </section>

          <!-- DOLNÍ PANEL – TABS -->
          <section class="panel panel-bottom">
            <div class="tab-strip">
              <button class="tab-btn is-active" data-tab="heroes">Hrdinové</button>
              <button class="tab-btn" data-tab="space">Meziprostor</button>
              <button class="tab-btn" data-tab="system">Systém</button>
              <button class="tab-btn" data-tab="network">Síť</button>
              <button class="tab-btn" data-tab="worlds">Světy</button>
            </div>

            <div class="tabs-body">
              <!-- HRDINOVÉ -->
              <div class="tab-view is-active" id="tab-heroes">
                <div class="heroes-layout">
                  <div class="card">
                    <div class="card-title">Nový hrdina / postava</div>

                    <div class="form-group">
                      <label class="form-label" for="hero-name">
                        Jméno hrdiny
                      </label>
                      <input
                        id="hero-name"
                        class="input"
                        placeholder="např. Bicák Supreme, GhostGirl, BearHead…"
                      />
                    </div>

                    <div class="form-group">
                      <label class="form-label" for="hero-team">Tým</label>
                      <select id="hero-team" class="select">
                        <option value="human">Human (hráč / Pikoš)</option>
                        <option value="ai">AI (Orbit / Kovošrot)</option>
                        <option value="glyph">Glyph (znaky / VaF'i'T)</option>
                        <option value="world">World (MapWorld / 3D)</option>
                      </select>
                    </div>

                    <div class="form-group">
                      <label class="form-label" for="hero-desc"
                        >Krátký popis</label
                      >
                      <input
                        id="hero-desc"
                        class="input"
                        placeholder="co má umět, jak pomáhá světu…"
                      />
                    </div>

                    <button class="btn-primary" id="hero-add-btn">
                      <span>＋</span> Přidat do seznamu hrdinů (lokálně)
                    </button>

                    <div class="heroes-note">
                      Vše se zatím ukládá jen do
                      <b>localStorage</b> tohoto zařízení. Později uděláme
                      propojení na konkrétní 3D modul (např. BearHead, Doll,
                      GhostGirl, Bicák…).
                    </div>
                  </div>

                  <div class="card">
                    <div class="card-title">Seznam hrdinů na zařízení</div>
                    <div
                      id="heroes-list"
                      style="
                        display: flex;
                        flex-wrap: wrap;
                        gap: 6px;
                        font-size: 10px;
                      "
                    ></div>

                    <button
                      class="btn-secondary"
                      id="heroes-clear-btn"
                      style="margin-top: 8px"
                    >
                      Vymazat lokální seznam hrdinů
                    </button>
                  </div>
                </div>

                <div
                  class="card"
                  style="
                    margin-top: 10px;
                    display: grid;
                    grid-template-columns: minmax(0, 1.2fr) minmax(0, 1.1fr);
                    gap: 10px;
                  "
                >
                  <div>
                    <div class="card-title">VaF'i'T – hlavní světy / moduly</div>
                    <div class="world-cards">
                      <div class="world-card">
                        <div class="world-card-title">VAFT-Center3D</div>
                        <div class="world-card-sub">
                          3D jádro světa – planety a orbit.
                        </div>
                        <a
                          class="app-open"
                          href="VAFT-Center3D/index.html"
                          target="_blank"
                          >Otevřít</a
                        >
                      </div>

                                            <div class="world-card">
                        <div class="world-card-title">RingPlanetGrid</div>
                        <div class="world-card-sub">
                          Síť planet na kruhu (grid + orbit).
                        </div>
                        <a
                          class="app-open"
                          href="RingPlanetGrid/index.html"
                          target="_blank"
                          >Otevřít</a
                        >
                      </div>

                      <div class="world-card">
                        <div class="world-card-title">SignalSphere</div>
                        <div class="world-card-sub">
                          VaFT-Planet-SignalSphere • koule s písmeny / signály.
                        </div>
                        <a
                          class="app-open"
                          href="VaFT-Planet-SignalSphere/index.html"
                          target="_blank"
                          >Otevřít</a
                        >
                      </div>

                      <div class="world-card">
                        <div class="world-card-title">SignalCore</div>
                        <div class="world-card-sub">
                          VaFT-Planets-SignalCore • středový motor signálů.
                        </div>
                        <a
                          class="app-open"
                          href="VaFT-Planets-SignalCore/index.html"
                          target="_blank"
                          >Otevřít</a
                        >
                      </div>
                    </div>
                  </div>

                  <div>
                    <div class="card-title">Poznámka k hrdinům & světům</div>
                    <div class="body-text">
                      Tenhle panel je <b>RED 2077 plánovač</b>. Hrdiny vytváříš
                      vlevo, ale reálně „žijí“ v těchto modulech (3D světy, mapy,
                      signal koule…). Postupně je budeme napojovat:
                      <ul style="margin: 6px 0 0 16px; padding: 0; font-size: 10px;">
                        <li>BearHead, Doll, GhostGirl → 3D postavy / avatary</li>
                        <li>Bicák Supreme Edition → speciální hrdina pro motivaci</li>
                        <li>VAFT-Center3D, RingPlanetGrid → hlavní scéna planety</li>
                        <li>MapWorld, LetterLab → logika světa a písmenek</li>
                      </ul>
                    </div>
                    <div class="small-text">
                      Všechno se teď ukládá jen jako <b>lokální JSON</b> v
                      prohlížeči. Až bude čas, uděláme export do souboru nebo API.
                    </div>
                  </div>
                </div>
              </div>

              <!-- MEZIPROSTOR / CHAT -->
              <div class="tab-view" id="tab-space">
                <div class="card" style="margin-bottom: 10px;">
                  <div class="card-title">Meziprostor – rozhovor tří pohledů</div>
                  <div class="body-text">
                    Tady je lehký <b>chat mezi světy</b> – Human (Pikoš), AI
                    (Kovošrot) a Dítě (hráč / budoucí hráči). Není to online AI,
                    jen lokální log, který si můžeš psát pro sebe.
                  </div>
                  <div class="chat-log" id="chat-log"></div>

                  <div class="chat-input-row">
                    <input
                      id="chat-input"
                      class="input"
                      placeholder="Napiš myšlenku do meziprostoru…"
                    />
                    <button class="btn-primary" id="chat-send-btn">
                      <span>➤</span> Poslat
                    </button>
                  </div>

                  <div class="chat-quick-row">
                    <button
                      class="btn-secondary"
                      data-chat-template="Human: Dnes chci tvořit svět, ne blbosti."
                    >
                      Human
                    </button>
                    <button
                      class="btn-secondary"
                      data-chat-template="AI: Zapisuju si tenhle nápad do RED 2077 paměti."
                    >
                      AI
                    </button>
                    <button
                      class="btn-secondary"
                      data-chat-template="Dítě: A půjdeme si i hrát ven, jo?"
                    >
                      Dítě
                    </button>
                  </div>
                </div>

                <div class="card">
                  <div class="card-title">Poznámka k meziprostoru</div>
                  <div class="body-text">
                    Meziprostor je místo, kde si můžeš <b>psát vzkazy mezi
                    verzemi sebe</b> – současný Michal, budoucí Michal, Michal
                    jako dítě. Můžeš to používat jako krátký deník:
                    <ul style="margin: 6px 0 0 16px; padding: 0; font-size: 10px;">
                      <li>Co chci dnes ve světech Vivere atque FruiT posunout?</li>
                      <li>Co mi v hlavě straší, ale nechci to tahat do hry?</li>
                      <li>Jaké tři maličkosti mi dnes udělaly radost?</li>
                    </ul>
                  </div>
                </div>
              </div>

              <!-- SYSTÉM -->
              <div class="tab-view" id="tab-system">
                <div
                  class="card"
                  style="
                    display: grid;
                    grid-template-columns: minmax(0, 1.3fr) minmax(0, 1.2fr);
                    gap: 12px;
                  "
                >
                  <div>
                    <div class="card-title">Systém – jak spolu moduly mluví</div>
                    <div class="body-text">
                      Systém RED 2077 bere každou appku v repozitáři jako
                      <b>uzel</b>. Uvnitř to vypadá například takhle:
                      <ul style="margin: 6px 0 0 16px; padding: 0; font-size: 10px;">
                        <li>
                          <b>VAFT-Center3D</b> – centrální 3D scéna (planety /
                          orbit).
                        </li>
                        <li>
                          <b>RingPlanetGrid</b> – rozložení planet na kruhu.
                        </li>
                        <li>
                          <b>SignalSphere / SignalCore</b> – signály, pulzy,
                          písmenka.
                        </li>
                        <li>
                          <b>LetterLab</b> – laboratoř písmen, budoucí ekonomika.
                        </li>
                        <li>
                          <b>MapWorld</b> – mapy, přechody, cesty mezi světy.
                        </li>
                      </ul>
                    </div>
                    <div class="small-text">
                      Tenhle index je jen <b>„mozek“ nad tím</b> – nezasahuje do
                      logiky modulů, jen ti dává přehled a jeden vstup.
                    </div>
                  </div>

                  <div>
                    <div class="card-title">Režimy běhu (plán)</div>
                    <div class="body-text">
                      Do budoucna může mít centrum několik režimů:
                      <ul style="margin: 6px 0 0 16px; padding: 0; font-size: 10px;">
                        <li>
                          <b>Play</b> – jen zapnout modul a hrát / koukat (bez
                          úprav).
                        </li>
                        <li>
                          <b>Build</b> – editace levelů, přidávání hrdinů / objektů.
                        </li>
                        <li>
                          <b>Debug</b> – Chybožrout / logy, hledání chyb.
                        </li>
                        <li>
                          <b>Guardian</b> – WebGuardian / obrana proti podvodům.
                        </li>
                      </ul>
                    </div>
                    <div class="small-text">
                      Tyhle režimy teď jen popisujeme. Až budeš chtít, můžeme je
                      dát jako „mód“ v URL (např. <code>?mode=play</code>) nebo
                      jako přepínač v UI.
                    </div>
                  </div>
                </div>
              </div>

              <!-- SÍŤ -->
              <div class="tab-view" id="tab-network">
                <div class="card">
                  <div class="card-title">Síť – uzly z repozitáře</div>
                  <div class="nodes-grid">
                    <div class="node-card">
                      <div class="node-title">VAFT-Center3D</div>
                      <div class="node-row">
                        <span>Role:</span>
                        <span>3D centrum</span>
                      </div>
                      <div class="node-row">
                        <span>Stav:</span>
                        <span>aktivní</span>
                      </div>
                    </div>

                    <div class="node-card">
                      <div class="node-title">RingPlanetGrid</div>
                      <div class="node-row">
                        <span>Role:</span>
                        <span>planety / grid</span>
                      </div>
                      <div class="node-row">
                        <span>Stav:</span>
                        <span>aktivní</span>
                      </div>
                    </div>

                    <div class="node-card">
                      <div class="node-title">SignalSphere</div>
                      <div class="node-row">
                        <span>Role:</span>
                        <span>koule signálů</span>
                      </div>
                      <div class="node-row">
                        <span>Stav:</span>
                        <span>prototyp</span>
                      </div>
                    </div>

                    <div class="node-card">
                      <div class="node-title">SignalCore</div>
                      <div class="node-row">
                        <span>Role:</span>
                        <span>střed signálů</span>
                      </div>
                      <div class="node-row">
                        <span>Stav:</span>
                        <span>prototyp</span>
                      </div>
                    </div>

                    <div class="node-card">
                      <div class="node-title">VAFT-LetterLab</div>
                      <div class="node-row">
                        <span>Role:</span>
                        <span>laboratoř písmen</span>
                      </div>
                      <div class="node-row">
                        <span>Stav:</span>
                        <span>aktivní</span>
                      </div>
                    </div>

                    <div class="node-card">
                      <div class="node-title">VAFT-MapWorld</div>
                      <div class="node-row">
                        <span>Role:</span>
                        <span>mapy světa</span>
                      </div>
                      <div class="node-row">
                        <span>Stav:</span>
                        <span>aktivní</span>
                      </div>
                    </div>

                    <div class="node-card">
                      <div class="node-title">Michal Globe test</div>
                      <div class="node-row">
                        <span>Role:</span>
                        <span>globe / experiment</span>
                      </div>
                      <div class="node-row">
                        <span>Stav:</span>
                        <span>demo</span>
                      </div>
                    </div>

                    <div class="node-card">
                      <div class="node-title">Guardian</div>
                      <div class="node-row">
                        <span>Role:</span>
                        <span>obrana / WebGuardian</span>
                      </div>
                      <div class="node-row">
                        <span>Stav:</span>
                        <span>idea</span>
                      </div>
                    </div>
                  </div>

                  <div class="small-text" style="margin-top: 8px;">
                    Tyhle uzly jsou jen <b>přehled</b>. Fyzicky jsou to složky a
                    soubory v repozitáři. Až budeš chtít, můžeme sem přidat tlačítka
                    „otevřít“ pro každý uzel zvlášť.
                  </div>
                </div>
              </div>

              <!-- SVĚTY – LATINA -->
              <div class="tab-view" id="tab-worlds">
                <div class="card">
                  <div class="card-title">Latinské světy Vivere atque FruiT</div>
                  <div class="worlds-grid">
                    <div class="latin-card">
                      <div class="latin-name">Vivere</div>
                      <div class="latin-desc">
                        Žít. Svět, kde se díváš na realitu – fotky, vzpomínky,
                        příběhy, deníky.
                      </div>
                    </div>

                    <div class="latin-card">
                      <div class="latin-name">FruiT</div>
                      <div class="latin-desc">
                        Užít si. Svět, kde z toho děláš hru – levely, mise,
                        odměny, Iskry.
                      </div>
                    </div>

                    <div class="latin-card">
                      <div class="latin-name">Amicitia</div>
                      <div class="latin-desc">
                        Přátelství. Svět vztahů – rodina, přátelé, parťáci jako
                        Kovošrot.
                      </div>
                    </div>

                    <div class="latin-card">
                      <div class="latin-name">Memoria</div>
                      <div class="latin-desc">
                        Paměť. Svět, kde ukládáme nápady, skici, chyby i
                        pokusy.
                      </div>
                    </div>

                    <div class="latin-card">
                      <div class="latin-name">Ludus</div>
                      <div class="latin-desc">
                        Hra. Čistý playground na experimenty bez pravidel.
                      </div>
                    </div>

                    <div class="latin-card">
                      <div class="latin-name">Corpus</div>
                      <div class="latin-desc">
                        Tělo. Reálné cvičení, pohyb, Bicák Supreme Edition,
                        zdraví.
                      </div>
                    </div>

                    <div class="latin-card">
                      <div class="latin-name">Mens</div>
                      <div class="latin-desc">
                        Mysl. Učení, knihy, videa, Blender, nové programy.
                      </div>
                    </div>

                    <div class="latin-card">
                      <div class="latin-name">Vox</div>
                      <div class="latin-desc">
                        Hlas. Audio, mikrofon, budoucí hlasové rozhraní VaF'i'T.
                      </div>
                    </div>

                    <div class="latin-card">
                      <div class="latin-name">Custos</div>
                      <div class="latin-desc">
                        Strážce. Guardian / obranné aplikace proti zneužití.
                      </div>
                    </div>

                    <div class="latin-card">
                      <div class="latin-name">Lux</div>
                      <div class="latin-desc">
                        Světlo. Vize budoucnosti, směry, kam chceš svět posunout.
                      </div>
                    </div>
                  </div>

                  <div class="worlds-note">
                    Tyhle světy jsou spíš <b>mentální vrstvy</b>. Dole v
                    repozitáři jsou pak reálné HTML/JS moduly, které můžeme
                    k těmto názvům postupně připoutat.
                  </div>
                </div>
              </div>
            </div>
          </section>

          <!-- PRAVÝ PANEL – APPKY / MODULY -->
          <aside class="right-panel">
            <div class="right-card">
              <div class="right-title">VaF'i'T – hlavní appky</div>
              <div class="apps-list">
                <div class="app-row">
                  <div class="app-main">
                    <div class="app-name">VAFT-Center3D</div>
                    <div class="app-sub">3D centrum světa</div>
                  </div>
                  <a
                    class="app-open"
                    href="VAFT-Center3D/index.html"
                    target="_blank"
                    >Otevřít</a
                  >
                </div>

                <div class="app-row">
                  <div class="app-main">
                    <div class="app-name">RingPlanetGrid</div>
                    <div class="app-sub">Planety na kruhu</div>
                  </div>
                  <a
                    class="app-open"
                    href="RingPlanetGrid/index.html"
                    target="_blank"
                    >Otevřít</a
                  >
                </div>

                <div class="app-row">
                  <div class="app-main">
                    <div class="app-name">SignalSphere</div>
                    <div class="app-sub">Koule signálů / písmen</div>
                  </div>
                  <a
                    class="app-open"
                    href="VaFT-Planet-SignalSphere/index.html"
                    target="_blank"
                    >Otevřít</a
                  >
                </div>

                <div class="app-row">
                  <div class="app-main">
                    <div class="app-name">LetterLab</div>
                    <div class="app-sub">Laboratoř písmen</div>
                  </div>
                  <a
                    class="app-open"
                    href="VAFT-LetterLab/index.html"
                    target="_blank"
                    >Otevřít</a
                  >
                </div>

                <div class="app-row">
                  <div class="app-main">
                    <div class="app-name">MapWorld</div>
                    <div class="app-sub">Mapy světa</div>
                  </div>
                  <a
                    class="app-open"
                    href="VAFT-MapWorld/index.html"
                    target="_blank"
                    >Otevřít</a
                  >
                </div>

                <div class="app-row">
                  <div class="app-main">
                    <div class="app-name">Michal-AI-Al-Klimek</div>
                    <div class="app-sub">Osobní hub autora</div>
                  </div>
                  <a
                    class="app-open"
                    href="Michal-AI-Al-Klimek/index.html"
                    target="_blank"
                    >Otevřít</a
                  >
                </div>

                <div class="app-row">
                  <div class="app-main">
                    <div class="app-name">Michal globe test</div>
                    <div class="app-sub">Globusový test</div>
                  </div>
                  <a
                    class="app-open"
                    href="michal-globe-test.html"
                    target="_blank"
                    >Otevřít</a
                  >
                </div>
              </div>

              <div class="right-small">
                To je jen <b>rychlý panel</b>. Když přidáš nové appky do
                repozitáře, můžeme je sem jednoduše dopsat jako další řádky.
              </div>
            </div>

            <div class="right-card">
              <div class="right-title">Poznámka k RED 2077 režimu</div>
              <div class="body-text">
                Tenhle vzhled je čistě <b>motivace</b> – RED 2077 mód. Můžeš mít
                později víc skinů (např. GOLD 2050, BLUE 2001…) a přepínat mezi
                nimi. Zatím je to jen CSS vrstva nad stejnou logikou.
              </div>
            </div>
          </aside>
        </div>
      </div>
    </div>

    <script>
      // ----- Tabs -----
      const tabButtons = document.querySelectorAll(".tab-btn");
      const tabViews = document.querySelectorAll(".tab-view");
      const TAB_KEY = "vaft-revia:lastTab";

      function activateTab(id) {
        tabButtons.forEach((btn) => {
          btn.classList.toggle("is-active", btn.dataset.tab === id);
        });
        tabViews.forEach((view) => {
          view.classList.toggle("is-active", view.id === "tab-" + id);
        });
        try {
          localStorage.setItem(TAB_KEY, id);
        } catch (e) {}
      }

      tabButtons.forEach((btn) => {
        btn.addEventListener("click", () => {
          activateTab(btn.dataset.tab);
        });
      });

      // restore last tab
      (function restoreTab() {
        let last = null;
        try {
          last = localStorage.getItem(TAB_KEY);
        } catch (e) {
          last = null;
        }
        if (last) activateTab(last);
      })();

      // ----- Revia 3D centrum odkaz -----
      const open3d = document.getElementById("open-3d-center");
      if (open3d) {
        open3d.addEventListener("click", () => {
          window.open("VAFT-Center3D/index.html", "_blank");
        });
      }

      // ----- Hrdinové – localStorage -----
      const HEROES_KEY = "vaft-revia:heroes";
      const heroNameEl = document.getElementById("hero-name");
      const heroTeamEl = document.getElementById("hero-team");
      const heroDescEl = document.getElementById("hero-desc");
      const heroAddBtn = document.getElementById("hero-add-btn");
      const heroesListEl = document.getElementById("heroes-list");
      const heroesClearBtn = document.getElementById("heroes-clear-btn");

      let heroes = [];

      function loadHeroes() {
        try {
          const raw = localStorage.getItem(HEROES_KEY);
          if (!raw) return;
          const parsed = JSON.parse(raw);
          if (Array.isArray(parsed)) heroes = parsed;
        } catch (e) {}
      }

      function saveHeroes() {
        try {
          localStorage.setItem(HEROES_KEY, JSON.stringify(heroes));
        } catch (e) {}
      }

      function renderHeroes() {
        if (!heroesListEl) return;
        heroesListEl.innerHTML = "";
        if (!heroes.length) {
          const span = document.createElement("span");
          span.textContent = "Zatím tu nejsou žádní hrdinové. Vytvoř prvního.";
          span.style.opacity = "0.7";
          heroesListEl.appendChild(span);
          return;
        }

        heroes.forEach((h, idx) => {
          const pill = document.createElement("div");
          pill.style.borderRadius = "999px";
          pill.style.border = "1px solid rgba(255,130,170,0.7)";
          pill.style.padding = "4px 8px";
          pill.style.display = "inline-flex";
          pill.style.flexWrap = "wrap";
          pill.style.gap = "4px";
          pill.style.alignItems = "center";
          pill.style.background = "rgba(10,0,16,0.9)";

          const name = document.createElement("span");
          name.style.fontWeight = "600";
          name.textContent = h.name || "Bez jména";

          const team = document.createElement("span");
          team.style.fontSize = "9px";
          team.style.opacity = "0.8";
          team.textContent = "[" + (h.team || "??") + "]";

          const desc = document.createElement("span");
          desc.style.fontSize = "9px";
          desc.style.opacity = "0.8";
          desc.textContent = h.desc || "";

          pill.appendChild(name);
          pill.appendChild(team);
          if (h.desc) pill.appendChild(desc);

          // malé X pro smazání jednoho hrdiny
          const del = document.createElement("button");
          del.textContent = "×";
          del.style.border = "0";
          del.style.marginLeft = "4px";
          del.style.padding = "0 4px";
          del.style.cursor = "pointer";
          del.style.borderRadius = "999px";
          del.style.background = "rgba(255,40,80,0.3)";
          del.style.color = "#fff";
          del.style.fontSize = "10px";
          del.addEventListener("click", () => {
            heroes.splice(idx, 1);
            saveHeroes();
            renderHeroes();
          });
          pill.appendChild(del);

          heroesListEl.appendChild(pill);
        });
      }

      if (heroAddBtn) {
        heroAddBtn.addEventListener("click", () => {
          const name = (heroNameEl.value || "").trim();
          const team = heroTeamEl.value || "human";
          const desc = (heroDescEl.value || "").trim();

          if (!name) {
            alert("Zadej prosím jméno hrdiny.");
            return;
          }

          heroes.push({ name, team, desc, ts: Date.now() });
          saveHeroes();
          renderHeroes();

          heroNameEl.value = "";
          heroDescEl.value = "";
        });
      }

      if (heroesClearBtn) {
        heroesClearBtn.addEventListener("click", () => {
          if (!confirm("Opravdu vymazat celý lokální seznam hrdinů?")) return;
          heroes = [];
          saveHeroes();
          renderHeroes();
        });
      }

      loadHeroes();
      renderHeroes();

      // ----- Meziprostor – chat -----
      const CHAT_KEY = "vaft-revia:chat";
      const chatLogEl = document.getElementById("chat-log");
      const chatInputEl = document.getElementById("chat-input");
      const chatSendBtn = document.getElementById("chat-send-btn");
      const chatQuickBtns = document.querySelectorAll(
        "[data-chat-template]"
      );

      let chatHistory = [];

      function loadChat() {
        try {
          const raw = localStorage.getItem(CHAT_KEY);
          if (!raw) return;
          const parsed = JSON.parse(raw);
          if (Array.isArray(parsed)) chatHistory = parsed;
        } catch (e) {}
      }

      function saveChat() {
        try {
          localStorage.setItem(CHAT_KEY, JSON.stringify(chatHistory));
        } catch (e) {}
      }

      function renderChat() {
        if (!chatLogEl) return;
        chatLogEl.innerHTML = "";
        if (!chatHistory.length) {
          const p = document.createElement("div");
          p.textContent =
            "Začni psát – třeba krátký vzkaz od sebe pro budoucího sebe.";
          p.style.opacity = "0.75";
          chatLogEl.appendChild(p);
          return;
        }

        chatHistory.forEach((line) => {
          const div = document.createElement("div");
          div.className = "chat-line";
          const nameSpan = document.createElement("span");
          nameSpan.className = "chat-name";
          nameSpan.textContent = line.who + ":";

          const textSpan = document.createElement("span");
          textSpan.textContent = line.text;

          div.appendChild(nameSpan);
          div.appendChild(textSpan);
          chatLogEl.appendChild(div);
        });

        chatLogEl.scrollTop = chatLogEl.scrollHeight;
      }

      function pushChatLine(who, text) {
        chatHistory.push({ who, text, ts: Date.now() });
        if (chatHistory.length > 200) {
          chatHistory = chatHistory.slice(-200);
        }
        saveChat();
        renderChat();
      }

      function sendChatFromInput() {
        if (!chatInputEl) return;
        const text = chatInputEl.value.trim();
        if (!text) return;
        chatInputEl.value = "";
        pushChatLine("Michal", text);

        // jednoduchá auto-odpověď VaF'i'T
        const replies = [
          "VaF'i'T: Beru tenhle vzkaz do meziprostoru. Můžeme z něj udělat misi.",
          "VaF'i'T: Zapisuju to jako RED 2077 myšlenku. Můžeš se k ní vrátit kdykoli.",
          "VaF'i'T: Tohle může být základ nového světa nebo hrdiny."
        ];
        const reply =
          replies[Math.floor(Math.random() * replies.length)];
        setTimeout(() => {
          pushChatLine("VaF'i'T", reply);
        }, 400 + Math.random() * 500);
      }

      if (chatSendBtn) {
        chatSendBtn.addEventListener("click", sendChatFromInput);
      }

      if (chatInputEl) {
        chatInputEl.addEventListener("keydown", (e) => {
          if (e.key === "Enter" && !e.shiftKey) {
            e.preventDefault();
            sendChatFromInput();
          }
        });
      }

      chatQuickBtns.forEach((btn) => {
        btn.addEventListener("click", () => {
          const template = btn.getAttribute("data-chat-template") || "";
          if (!template) return;
          const [who, ...rest] = template.split(":");
          const text = rest.join(":").trim();
          if (!text) return;
          pushChatLine(who.trim(), text);
        });
      });

      loadChat();
      renderChat();
    </script>
  </body>
</html>
