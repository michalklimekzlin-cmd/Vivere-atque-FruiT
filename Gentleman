<!doctype html>
<html lang="cs">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Gentleman ‚Ä¢ Vivere atque FruiT</title>
    <style>
      :root {
        --bg: #000000;
        --frame: #f5e9d6;
        --frame-soft: #f5e9d6;
        --text: #111;
      }

      * {
        box-sizing: border-box;
        -webkit-tap-highlight-color: transparent;
      }

      body {
        margin: 0;
        padding: 0;
        background: var(--bg);
        color: var(--text);
        font-family: system-ui, -apple-system, BlinkMacSystemFont, "SF Pro Text",
          sans-serif;
        display: flex;
        align-items: center;
        justify-content: center;
        min-height: 100vh;
      }

      .vaft-wrapper {
        width: 100vw;
        max-width: 430px; /* iPhone 14 + nƒõco m√°lo nav√≠c */
        padding: 12px;
      }

      .card {
        position: relative;
        width: 100%;
        background: #000;
        border-radius: 18px;
        padding: 12px;
        border: 2px solid #222;
        overflow: hidden;
        min-height: min(90vh, 780px);
        display: flex;
        flex-direction: column;
      }

      /* horn√≠ ov√°ln√Ω r√°meƒçek */
      .top-bubble {
        height: 48px;
        border-radius: 22px;
        background: var(--frame-soft);
        margin-bottom: 10px;
        padding: 10px 16px;
        font-size: 14px;
      }

      /* hlavn√≠ layout ‚Äì t≈ôi sloupce */
      .layout {
        flex: 1;
        display: grid;
        grid-template-columns: 26% 1fr 28%;
        grid-template-rows: 1fr;
        gap: 8px;
      }

      .left-column {
        display: grid;
        grid-template-rows: auto 1fr 1fr auto;
        gap: 8px;
      }

      .left-small {
        height: 60px;
      }

      .left-big {
        min-height: 90px;
      }

      .center-figure {
        position: relative;
        display: flex;
        align-items: center;
        justify-content: center;
        padding: 6px;
      }

      .center-figure-inner {
        position: relative;
        width: 100%;
        height: 100%;
        border-radius: 18px;
        /* sem m≈Ø≈æe≈° ƒçasem d√°t PNG s postaviƒçkou:
        background-image: url('./kid-phone.png');
        background-size: contain;
        background-position: center bottom;
        background-repeat: no-repeat;
        */
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .center-placeholder {
        font-size: 42px;
        opacity: 0.85;
      }

      .speech-banner {
        position: absolute;
        top: 6%;
        right: 4%;
        left: 6%;
        height: 70px;
        border-radius: 10px;
        background: var(--frame-soft);
        padding: 6px 10px;
        font-weight: 600;
        font-size: 18px;
        display: flex;
        align-items: center;
      }

      .speech-banner span {
        display: block;
        line-height: 1.1;
      }

      .right-grid {
        border-radius: 14px;
        padding: 4px;
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        grid-auto-rows: minmax(40px, 1fr);
        gap: 3px;
        align-items: stretch;
      }

      /* spodn√≠ li≈°ta */
      .bottom-bar {
        margin-top: 10px;
        height: 46px;
        border-radius: 12px;
        background: var(--frame-soft);
        padding: 10px 14px;
        font-size: 13px;
      }

      /* univerz√°ln√≠ r√°meƒçek / ƒçtvereƒçek */
      .slot {
        background: var(--frame);
        border-radius: 10px;
        padding: 6px;
        font-size: 13px;
        line-height: 1.2;
        overflow: hidden;
        position: relative;
        border: 1px solid #d9c9ac;
        cursor: text;
      }

      .slot:focus {
        outline: 2px solid #ff7b42;
        outline-offset: 0;
      }

      .slot[data-mode="image"] {
        padding: 0;
        background-size: cover;
        background-position: center;
        background-repeat: no-repeat;
        color: transparent;
      }

      /* placeholder text kdy≈æ je pr√°zdno */
      .slot[data-placeholder]:empty::before,
      .editable[data-placeholder]:empty::before {
        content: attr(data-placeholder);
        opacity: 0.45;
        pointer-events: none;
      }

      .editable {
        cursor: text;
      }

      .editable:focus {
        outline: 2px solid #ff7b42;
        outline-offset: 0;
      }

      .hint {
        position: absolute;
        left: 12px;
        right: 12px;
        bottom: 12px;
        font-size: 11px;
        opacity: 0.55;
        color: #f5e9d6;
        text-align: center;
        pointer-events: none;
      }

      @media (max-height: 700px) {
        .card {
          min-height: auto;
        }
        .speech-banner {
          height: 60px;
          font-size: 16px;
        }
      }
    </style>
  </head>
  <body>
    <div class="vaft-wrapper">
      <div class="card">
        <!-- horn√≠ ov√°ln√Ω r√°meƒçek -->
        <div
          class="top-bubble editable"
          contenteditable="true"
          data-placeholder="Gentleman ‚Äì n√°zev / t√©ma dne‚Ä¶"
        ></div>

        <div class="layout">
          <!-- LEV√ù SLOUPEC -->
          <div class="left-column">
            <div
              class="slot left-small"
              contenteditable="true"
              data-placeholder="1"
            ></div>
            <div
              class="slot left-big"
              contenteditable="true"
              data-placeholder="2"
            ></div>
            <div
              class="slot left-big"
              contenteditable="true"
              data-placeholder="3"
            ></div>
            <div
              class="slot left-small"
              contenteditable="true"
              data-placeholder="4"
            ></div>
          </div>

          <!-- ST≈òED ‚Äì postaviƒçka + bublina -->
          <div class="center-figure">
            <div class="center-figure-inner">
              <!-- prozat√≠m emoji, m√≠sto kresby -->
              <div class="center-placeholder">üë∂üì±</div>

              <div class="speech-banner slot" contenteditable="true">
                <span>Vivere<br />atque<br />FruiT</span>
              </div>
            </div>
          </div>

          <!-- PRAV√Å M≈ò√ç≈ΩKA 3 √ó 4 -->
          <div class="right-grid">
            <div
              class="slot"
              contenteditable="true"
              data-placeholder="A1"
            ></div>
            <div
              class="slot"
              contenteditable="true"
              data-placeholder="A2"
            ></div>
            <div
              class="slot"
              contenteditable="true"
              data-placeholder="A3"
            ></div>
            <div
              class="slot"
              contenteditable="true"
              data-placeholder="B1"
            ></div>
            <div
              class="slot"
              contenteditable="true"
              data-placeholder="B2"
            ></div>
            <div
              class="slot"
              contenteditable="true"
              data-placeholder="B3"
            ></div>
            <div
              class="slot"
              contenteditable="true"
              data-placeholder="C1"
            ></div>
            <div
              class="slot"
              contenteditable="true"
              data-placeholder="C2"
            ></div>
            <div
              class="slot"
              contenteditable="true"
              data-placeholder="C3"
            ></div>
            <div
              class="slot"
              contenteditable="true"
              data-placeholder="D1"
            ></div>
            <div
              class="slot"
              contenteditable="true"
              data-placeholder="D2"
            ></div>
            <div
              class="slot"
              contenteditable="true"
              data-placeholder="D3"
            ></div>
          </div>
        </div>

        <!-- spodn√≠ li≈°ta -->
        <div
          class="bottom-bar editable"
          contenteditable="true"
          data-placeholder="Spodn√≠ pozn√°mka, podpis, √∫kol‚Ä¶"
        ></div>

        <div class="hint">
          Klepni pro psan√≠ ‚Ä¢ dvojklepni na ƒçtvereƒçek pro vlo≈æen√≠ obr√°zku üì∑
        </div>
      </div>
    </div>

    <!-- skryt√Ω input pro obr√°zky -->
    <input
      type="file"
      id="image-picker"
      accept="image/*"
      style="display: none"
    />

    <script>
      const imageInput = document.getElementById("image-picker");
      let activeSlotForImage = null;

      // aktivace psan√≠ + obr√°zky
      document.querySelectorAll(".slot").forEach((slot) => {
        // klik = psan√≠
        slot.addEventListener("click", () => {
          slot.setAttribute("contenteditable", "true");
          slot.focus();
        });

        // dvojklik = v√Ωbƒõr obr√°zku
        slot.addEventListener("dblclick", () => {
          activeSlotForImage = slot;
          imageInput.click();
        });
      });

      imageInput.addEventListener("change", (e) => {
        const file = e.target.files[0];
        if (!file || !activeSlotForImage) return;

        const reader = new FileReader();
        reader.onload = (ev) => {
          activeSlotForImage.style.backgroundImage = `url('${ev.target.result}')`;
          activeSlotForImage.dataset.mode = "image";
          activeSlotForImage.textContent = "";
        };
        reader.readAsDataURL(file);
        imageInput.value = "";
      });
    </script>
  </body>
</html>
